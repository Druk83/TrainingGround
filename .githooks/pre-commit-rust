#!/bin/bash
# Rust pre-commit hook

echo "[INFO] Running pre-commit checks for Rust..."

if [ -d "backend/rust-api" ]; then
    cd backend/rust-api
    
    cargo fmt --check || exit 1
    cargo clippy --all-targets --all-features -- -D warnings || exit 1
    cargo test --lib || exit 1
    cargo audit || exit 1
    
    echo "[SUCCESS] Rust checks passed!"
fi
