#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "[INFO] Running pre-commit checks for Frontend..."

cd frontend

# 1. Lint и форматирование
npm run lint || exit 1
npm run format:check || exit 1

# 2. TypeScript проверка
npm run type-check || exit 1

# 3. Unit тесты измененных файлов
npx lint-staged || exit 1

# 4. Security audit
npm audit --audit-level=moderate || exit 1

echo "[SUCCESS] Frontend checks passed!"
