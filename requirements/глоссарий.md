# –≥–ª–æ—Å—Å–∞—Ä–∏–π ‚Äî –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –µ–¥–∏–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–æ –≤—Å–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (Business Objects)

### –ó–∞–¥–∞–Ω–∏–µ (Task Template)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –ó–∞–¥–∞–Ω–∏–µ, –®–∞–±–ª–æ–Ω –∑–∞–¥–∞–Ω–∏—è  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Task Template  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –û–±—Ä–∞–∑–µ—Ü —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥–∏—Å—Ç–æ–º. –°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, –ø–æ—è—Å–Ω–µ–Ω–∏–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Ç–∏–ø, —Ç–µ–º–∞, —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏).  
**–ü—Ä–∏–º–µ—Ä:** "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–∞–¥–µ–∂ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ ¬´–û–Ω –ø–æ—à—ë–ª –≤ —à–∫–æ–ª—É¬ª"  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `task_templates`  
**–í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–µ—Ç `version` –∏ `updated_at`.

### –≠–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–¥–∞–Ω–∏—è (Task Instance)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –≠–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–¥–∞–Ω–∏—è, –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Task Instance  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ —É—á–µ–Ω–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ Task Template. –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã (–µ—Å–ª–∏ —à–∞–±–ª–æ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω).  
**–ü—Ä–∏–º–µ—Ä:** –î–ª—è —à–∞–±–ª–æ–Ω–∞ "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–∞–¥–µ–∂ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ" —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —ç–∫–∑–µ–º–ø–ª—è—Ä —Å —Ç–µ–∫—Å—Ç–æ–º "–û–Ω –ø–æ—à—ë–ª –≤ —à–∫–æ–ª—É".  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `task_instances` (–∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ `sessions`)  
**–°–≤—è–∑—å:** –û–¥–∏–Ω Task Template –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ Task Instances.

### –ü–æ–ø—ã—Ç–∫–∞ (Attempt / Answer)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –ü–æ–ø—ã—Ç–∫–∞, –û—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Attempt, Answer  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –û–¥–∏–Ω –æ—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞ –Ω–∞ Task Instance. –í–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏, —Ç–µ–∫—Å—Ç/–≤—ã–±–æ—Ä, —Å—Ç–∞—Ç—É—Å (correct/incorrect), –±–∞–ª–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–∞—á–∏—Å–ª–µ–Ω—ã.  
**–ü—Ä–∏–º–µ—Ä:** `{ task_instance_id: "ti_123", answer: "–¥–∞—Ç–µ–ª—å–Ω—ã–π", is_correct: true, score_awarded: 10, timestamp: "2025-12-16T10:30:00Z" }`  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `attempts`  
**–°–≤—è–∑—å:** –û–¥–∏–Ω Task Instance –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ Attempts (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ –æ–¥–Ω–æ–≥–æ —É—á–µ–Ω–∏–∫–∞).

### –°–µ—Å—Å–∏—è (Session)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –°–µ—Å—Å–∏—è, –°–µ–∞–Ω—Å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Session  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –û–¥–∏–Ω –∑–∞—Ö–æ–¥ —É—á–µ–Ω–∏–∫–∞ –Ω–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è. –í–∫–ª—é—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Task Instances, —Å—Ç–∞—Ç—É—Å —Ç–∞–π–º–µ—Ä–∞, —Ç–µ–∫—É—â—É—é —Å–µ—Ä–∏—é –±–æ–Ω—É—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏.  
**–ü—Ä–∏–º–µ—Ä:** `{ session_id: "sess_456", user_id: "user_123", level_id: "level_1", state: "in_progress", series_count: 3, hints_used: 1 }`  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** Redis (–∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è, TTL ~1 —á–∞—Å), MongoDB (–∞—Ä—Ö–∏–≤ –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–µ—Å—Å–∏–π)  
**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:** –°–æ–∑–¥–∞–Ω–∏–µ ‚Üí In Progress ‚Üí Completed (‚â•80% –≤–µ—Ä–Ω—ã—Ö) ‚Üí Closed.

### –ü–æ–¥—Å–∫–∞–∑–∫–∞ (Hint)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –ü–æ–¥—Å–∫–∞–∑–∫–∞, –ü–æ–¥—Å–∫–∞–∑–∫–∞ –∫ –∑–∞–¥–∞–Ω–∏—é  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Hint  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è Task Instance. –ú–∞–∫—Å–∏–º—É–º 2 –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å. –°—Ç–æ–∏—Ç ‚àí5 –±–∞–ª–ª–æ–≤.  
**–ü—Ä–∏–º–µ—Ä:** –î–ª—è —à–∞–±–ª–æ–Ω–∞ "–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ø–∞–¥–µ–∂" –ø–æ–¥—Å–∫–∞–∑–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å "–í –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ –æ—Ç–≤–µ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´–∫–æ–º—É? —á–µ–º—É?¬ª".  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `hints` (—à–∞–±–ª–æ–Ω—ã), Redis (—É—á—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Å—Å–∏—é).  
**–ú–µ—Ö–∞–Ω–∏–∫–∞:** –í—ã—á–∏—Ç–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –î–û –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏.

### –¢–µ–º–∞ (Topic)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –¢–µ–º–∞, –†–∞–∑–¥–µ–ª  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Topic  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –£–∫—Ä—É–ø–Ω–µ–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞–¥–∞–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü—Ä–∏—á–∞—Å—Ç–∏—è", "–î–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è", "–ü—É–Ω–∫—Ç—É–∞—Ü–∏—è").  
**–ü—Ä–∏–º–µ—Ä:** `{ topic_id: "top_particles", name: "–ü—Ä–∏—á–∞—Å—Ç–∏—è", description: "–ü—Ä–∞–≤–∏–ª–∞ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –ø—Ä–∏—á–∞—Å—Ç–∏–π" }`  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `topics`  
**–ò–µ—Ä–∞—Ä—Ö–∏—è:** –¢–µ–º–∞ ‚Üí –£—Ä–æ–≤–µ–Ω—å ‚Üí Task Template.

### –£—Ä–æ–≤–µ–Ω—å (Level)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –£—Ä–æ–≤–µ–Ω—å, –ü–æ–¥—É—Ä–æ–≤–µ–Ω—å  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Level  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ß–∞—Å—Ç—å —Ç–µ–º—ã —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é. –ù–∞–ø—Ä–∏–º–µ—Ä, —É—Ä–æ–≤–µ–Ω—å 1 (–±–∞–∑–æ–≤—ã–π), —É—Ä–æ–≤–µ–Ω—å 2 (—Å—Ä–µ–¥–Ω–∏–π), —É—Ä–æ–≤–µ–Ω—å 3 (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π).  
**–ü—Ä–∏–º–µ—Ä:** `{ level_id: "level_particles_1", topic_id: "top_particles", difficulty: 1, tasks_count: 10 }`  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `levels`  
**–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ:** –£—á–µ–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –Ω–∞–±—Ä–∞—Ç—å ‚â•80% –≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å.

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (Progress Statistics)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Progress Statistics  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—é —É—á–µ–Ω–∏–∫–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫, % –≤–µ—Ä–Ω—ã—Ö, —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å, –±–∞–ª–ª—ã, –ø—Ä–æ–≥—Ä–µ—Å—Å.  
**–ü—Ä–∏–º–µ—Ä:** `{ user_id: "user_123", level_id: "level_1", attempts_total: 12, correct_count: 10, percentage: 83.3, score: 120 }`  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `progress_statistics`  
**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–∫—Ä—ã—Ç–æ–π —Å–µ—Å—Å–∏–∏.

### –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (User Profile)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –ü—Ä–æ—Ñ–∏–ª—å, –ê–∫–∫–∞—É–Ω—Ç  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** User Profile, Account  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ —É—á–µ–Ω–∏–∫–∞ (–§–ò, –∫–ª–∞—Å—Å, —à–∫–æ–ª–∞, e-mail, —Å—Ç–∞—Ç—É—Å (–∞–∫—Ç–∏–≤–Ω—ã–π/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)).  
**–ü—Ä–∏–º–µ—Ä:** `{ user_id: "user_123", name: "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", class: "8B", email: "ivan@school.ru", is_blocked: false }`  
**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** MongoDB, –∫–æ–ª–ª–µ–∫—Ü–∏—è `users`  
**PII:** –°–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç—Ä–µ–±—É–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏ –∑–∞—â–∏—Ç—ã.

### –°–µ—Ä–∏—è / Streak (Series)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –°–µ—Ä–∏—è, –°–µ—Ä–∏—è –≤–µ—Ä–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Series, Streak  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–¥—Ä—è–¥ –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.  
**–ú–µ—Ö–∞–Ω–∏–∫–∞:** 
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0 –ø—Ä–∏ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏.
- +1 –∑–∞ –∫–∞–∂–¥—ã–π –≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç.
- –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ 0 –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –æ—Ç–≤–µ—Ç–µ.
- **–ù–ï —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–∞–π–º–µ—Ä–∞** (timeout = 0 –±–∞–ª–ª–æ–≤, –Ω–æ —Å–µ—Ä–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è).
- –ù–∞—á–∏–Ω–∞—è —Å 4-–π –ø–æ–∑–∏—Ü–∏–∏ –≤ —Å–µ—Ä–∏–∏, –∫–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–∞–µ—Ç –±–æ–Ω—É—Å +5 –±–∞–ª–ª–æ–≤ (–∏—Ç–æ–≥–æ +15 –≤–º–µ—Å—Ç–æ +10).

**–ü—Ä–∏–º–µ—Ä:**
```
–û—Ç–≤–µ—Ç 1: –í–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 1, –±–∞–ª–ª—ã = +10 (–±–∞–∑–æ–≤—ã–π)
–û—Ç–≤–µ—Ç 2: –í–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 2, –±–∞–ª–ª—ã = +10 (–±–∞–∑–æ–≤—ã–π)
–û—Ç–≤–µ—Ç 3: –í–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 3, –±–∞–ª–ª—ã = +10 (–±–∞–∑–æ–≤—ã–π)
–û—Ç–≤–µ—Ç 4: –í–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 4, –±–∞–ª–ª—ã = +15 (–±–∞–∑–æ–≤—ã–π +5 –±–æ–Ω—É—Å!)
–û—Ç–≤–µ—Ç 5: –í–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 5, –±–∞–ª–ª—ã = +15 (–±–∞–∑–æ–≤—ã–π +5 –±–æ–Ω—É—Å!)
–û—Ç–≤–µ—Ç 6: –ù–µ–≤–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 0, –±–∞–ª–ª—ã = 0
–û—Ç–≤–µ—Ç 7 (–≤ –Ω–æ–≤–æ–π –ø–æ–ø—ã—Ç–∫–µ): –í–µ—Ä–Ω—ã–π ‚Üí —Å–µ—Ä–∏—è = 1, –±–∞–ª–ª—ã = +10 (–Ω–∞—á–∞–ª–æ –Ω–æ–≤–æ–π —Å–µ—Ä–∏–∏)
```

**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** Redis, –∫–ª—é—á `series:{session_id}`, TTL = –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–∏.

### –¢–∞–π–º–µ—Ä (Timer)
**–†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** –¢–∞–π–º–µ—Ä, –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω:** Timer, Time Limit  
**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ç–∞–π–º–µ—Ä –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ Task Instance.  
**–¢–∏–ø—ã –∑–∞–¥–∞–Ω–∏–π –∏ –≤—Ä–µ–º–µ–Ω–∞:**
- **–í—ã–±–æ—Ä –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (MCQ, Multiple Choice):** 45 —Å–µ–∫
- **–¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥ (Text Input):** 90 —Å–µ–∫
- **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ (Text Analysis):** 180 —Å–µ–∫

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏:**
- –û—Ç–≤–µ—Ç –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è.
- –£—á–µ–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç 0 –±–∞–ª–ª–æ–≤ –∑–∞ —ç—Ç–æ –∑–∞–¥–∞–Ω–∏–µ.
- –°–µ—Ä–∏—è **–ù–ï —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç—Å—è** (—Å–º. Series –≤—ã—à–µ).
- –¢–∞–π–º–µ—Ä —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è.

**–•—Ä–∞–Ω–∏–ª–∏—â–µ:** Redis, –∫–ª—é—á `timer:{session_id}:{task_instance_id}`, TTL —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∏–ø—É –∑–∞–¥–∞–Ω–∏—è.

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã (System Components)

### Scoring Engine (–î–≤–∏–≥–∞—Ç–µ–ª—å –ø–æ–¥—Å—á—ë—Ç–∞ –±–∞–ª–ª–æ–≤)
**–£—Ä–æ–≤–µ–Ω—å:** BL (Business Layer), —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Rust  
**–§—É–Ω–∫—Ü–∏—è:** –í—ã—á–∏—Å–ª—è–µ—Ç –±–∞–ª–ª—ã –∑–∞ –æ—Ç–≤–µ—Ç —Å —É—á—ë—Ç–æ–º:
- –ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∑–∞ –≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç (+10 –±–∞–ª–ª–æ–≤)
- –ë–æ–Ω—É—Å –∑–∞ —Å–µ—Ä–∏—é (–µ—Å–ª–∏ —Å–µ—Ä–∏—è ‚â•4, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ +5)
- –®—Ç—Ä–∞—Ñ –∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫—É (‚àí5 –±–∞–ª–ª–æ–≤, –≤—ã—á–∏—Ç–∞–µ—Ç—Å—è –î–û –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–∫–∏)
- –¢–∞–π–º–∞—É—Ç (0 –±–∞–ª–ª–æ–≤, —Å–µ—Ä–∏—è –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç—Å—è)

**API (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π, –∏–∑ BL-1 —à–∞–≥ 4):**
```
POST /internal/score_answer
{
  "session_id": "sess_456",
  "task_instance_id": "ti_789",
  "answer": "–¥–∞—Ç–µ–ª—å–Ω—ã–π",
  "is_correct": true,
  "time_taken_ms": 30000,
  "is_timeout": false
}

Response:
{
  "score_awarded": 15,
  "series_count": 4,
  "bonus_applied": true
}
```

**–¢–µ—Å—Ç—ã:** Unit-—Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- –ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∑–∞ –≤–µ—Ä–Ω—ã–π/–Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç
- –ë–æ–Ω—É—Å –æ—Ç —Å–µ—Ä–∏–∏ (1‚Äì3, 4+)
- –®—Ç—Ä–∞—Ñ—ã –∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (—Ä–∞–∑—Ä—ã–≤ —Å–µ—Ä–∏–∏, timeout)

### Session Manager (–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Å—Å–∏–π)
**–£—Ä–æ–≤–µ–Ω—å:** BL  
**–§—É–Ω–∫—Ü–∏—è:** –°–æ–∑–¥–∞—ë—Ç, —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–µ—Å—Å–∏–∏ —É—á–µ–Ω–∏–∫–∞.

**API:**
```
POST /sessions
{ "user_id": "user_123", "level_id": "level_1", "task_count": 10 }
Response: { "session_id": "sess_456", "tasks": [...] }

GET /sessions/{session_id}
Response: { "session_id": "...", "state": "in_progress", "series": 3, "hints_used": 1, ... }

POST /sessions/{session_id}/complete
{ "final_score": 120, "correct_count": 10 }
```

### Answer Checker (–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤)
**–£—Ä–æ–≤–µ–Ω—å:** BL  
**–§—É–Ω–∫—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç —É—á–µ–Ω–∏–∫–∞ –Ω–∞ Task Instance (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º, –Ω–µ—á—ë—Ç–∫–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤).

**API:**
```
POST /sessions/{session_id}/answers
{
  "task_instance_id": "ti_789",
  "answer": "–¥–∞—Ç–µ–ª—å–Ω—ã–π"
}

Response:
{
  "is_correct": true,
  "explanation": "–í–µ—Ä–Ω–æ! –í –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ...",
  "score": 15
}
```

### Hint Delivery Service (–°–µ—Ä–≤–∏—Å –ø–æ–¥—Å–∫–∞–∑–æ–∫)
**–£—Ä–æ–≤–µ–Ω—å:** BL-2  
**–§—É–Ω–∫—Ü–∏—è:** –í—ã–¥–∞—ë—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–º–∞–∫—Å–∏–º—É–º 2 –Ω–∞ —É—Ä–æ–≤–µ–Ω—å), –≤—ã—á–∏—Ç–∞–µ—Ç 5 –±–∞–ª–ª–æ–≤ –î–û –≤—ã–¥–∞—á–∏.

**API:**
```
POST /sessions/{session_id}/hints
{ "task_instance_id": "ti_789" }

Response:
{
  "hint_text": "–í –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ –æ—Ç–≤–µ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å...",
  "hints_remaining": 1,
  "penalty_applied": -5
}

Error (3-—è –ø–æ–¥—Å–∫–∞–∑–∫–∞):
{ "error": "hints_limit_exceeded", "message": "–í—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ —ç—Ç–æ–º —É—Ä–æ–≤–Ω–µ" }
```

### Speed Detector (–î–µ—Ç–µ–∫—Ç–æ—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏ / –ê–Ω—Ç–∏—á–∏—Ç)
**–£—Ä–æ–≤–µ–Ω—å:** BL-5  
**–§—É–Ω–∫—Ü–∏—è:** –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∞–Ω–æ–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã, –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞).

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –Ω–∞ –æ—Ç–≤–µ—Ç (–¥–ª—è —Ç–∏–ø–∞ –∑–∞–¥–∞–Ω–∏—è): –µ—Å–ª–∏ < 5 —Å–µ–∫ ‚Üí –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã: –∫–∞–∂–¥—ã–π N-–π –æ—Ç–≤–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π ‚Üí –±–æ—Ç?
- IP-–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è: —Ä–µ–∑–∫–∏–π –ø—Ä—ã–∂–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ –†–æ—Å—Å–∏–∏ –≤ –°–®–ê –º–µ–∂–¥—É –æ—Ç–≤–µ—Ç–∞–º–∏) ‚Üí VPN –∏–ª–∏ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è

**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏:**
- CAPTCHA-–≤—ã–∑–æ–≤ (–º—è–≥–∫–æ)
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–µ—Å—Å–∏–∏ (–∂—ë—Å—Ç–∫–æ)
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ DevOps

### Explanation Builder (–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—è—Å–Ω–µ–Ω–∏–π)
**–£—Ä–æ–≤–µ–Ω—å:** TL-3 (Python-—Å–µ—Ä–≤–∏—Å)  
**–§—É–Ω–∫—Ü–∏—è:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ –æ—à–∏–±–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—è YandexGPT (—Å fallback –Ω–∞ —à–∞–±–ª–æ–Ω—ã).

**API:**
```
POST /explain
{
  "task_id": "ti_789",
  "user_answer": "–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ",
  "correct_answer": "–¥–∞—Ç–µ–ª—å–Ω—ã–π"
}

Response:
{
  "explanation": "–í—ã –æ—à–∏–±–ª–∏—Å—å. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî –¥–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂...",
  "source": "yandexgpt" | "template"
}
```

**Fallback:** –ï—Å–ª–∏ YandexGPT –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (timeout > 2 —Å–µ–∫), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è predefined —à–∞–±–ª–æ–Ω –∏–∑ MongoDB.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏ (Architectural Layers)

### AL ‚Äî Application Layer (–ë–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
–û–ø–∏—Å—ã–≤–∞–µ—Ç *—á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å* —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞ (—É—á–µ–Ω–∏–∫ –ø—Ä—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç, —É—á–∏—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç –æ—Ç—á—ë—Ç).
**–î–æ–∫—É–º–µ–Ω—Ç:** `–æ–ø–∏—Å–∞–Ω–∏–µ AL.md`

### BL ‚Äî Business Logic Layer (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
–û–ø–∏—Å—ã–≤–∞–µ—Ç *–∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç* –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø—Ä–æ—Ü–µ—Å—Å—ã, API –¥–ª—è Application).
**–î–æ–∫—É–º–µ–Ω—Ç:** `–æ–ø–∏—Å–∞–Ω–∏–µ BL.md`

### TL ‚Äî Technology Layer (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
–û–ø–∏—Å—ã–≤–∞–µ—Ç *–≥–¥–µ –∏ –Ω–∞ —á—ë–º* —Ö—Ä–∞–Ω—è—Ç—Å—è/–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ (MongoDB, Redis, Python, Rust).
**–î–æ–∫—É–º–µ–Ω—Ç:** `–æ–ø–∏—Å–∞–Ω–∏–µ TL.md`

---

## –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (Common Rules)

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π —Ä—É—Å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ + –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ –≤ —Å–∫–æ–±–∫–∞—Ö –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏:**
   ```
   –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ó–∞–¥–∞–Ω–∏–µ (Task Template) —Å–æ–¥–µ—Ä–∂–∏—Ç...
   –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: Task Template —Å–æ–¥–µ—Ä–∂–∏—Ç...
   ```

2. **–ï—Å–ª–∏ –µ—Å—Ç—å –∫–∏—Ä–∏–ª–ª–∏—Ü–∞, –∏–∑–±–µ–≥–∞–π —Å–º–µ—à–∏–≤–∞–Ω–∏—è –≤ –æ–¥–Ω–æ–π —Ñ—Ä–∞–∑–µ:**
   ```
   –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –≠–∫–∑–µ–º–ø–ª—è—Ä –∑–∞–¥–∞–Ω–∏—è (Task Instance) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redis
   –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: Task Instance (—ç–∫–∑–µ–º–ø–ª—è—Ä) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Redis
   ```

3. **–°–æ–∫—Ä–∞—â–µ–Ω–∏—è –∏ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã:**
   - MCQ = Multiple Choice Question (–≤—ã–±–æ—Ä –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
   - TTL = Time To Live (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏)
   - PII = Personally Identifiable Information (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
   - SLA = Service Level Agreement (—É—Ä–æ–≤–µ–Ω—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è)

4. **–¶–≤–µ—Ç–∞ –ø–æ —Ç–∏–ø–∞–º:**
   - üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï = –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
   - üü° –í–ê–ñ–ù–û–ï = –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –¥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
   - üü¢ –ñ–ï–õ–ê–¢–ï–õ–¨–ù–û–ï = –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

---


