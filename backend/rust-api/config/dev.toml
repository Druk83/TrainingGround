# Development configuration for TrainingGround Rust API

[server]
host = "127.0.0.1"
port = 8081
workers = 4

[database]
mongo_uri = "mongodb://admin:changeMe123@localhost:27017,localhost:27018,localhost:27019/trainingground?authSource=admin&replicaSet=rs0"
mongo_database = "trainingground"

[redis]
uri = "redis://:changeMeRedis@127.0.0.1:6379/0"
pool_size = 10
connection_timeout_secs = 30

[auth]
# Use JWT_SECRET environment variable (see .env.example)
jwt_secret = "${JWT_SECRET}"
jwt_expiration_hours = 24

[rate_limit]
per_user_per_minute = 100
per_ip_per_minute = 200

[python_api]
url = "http://localhost:8000"
timeout_secs = 2

[hints]
max_per_session = 2
cost = 5
cache_ttl_secs = 300

[anticheat]
speed_threshold_per_hour = 10
repeated_threshold = 8
suspicious_threshold = 5

[session]
ttl_secs = 3600

[logging]
level = "debug"
format = "pretty"

[reporting]
signed_url_ttl_hours = 24
export_ttl_hours = 24
export_rate_limit_per_hour = 5
live_polling_interval_secs = 30
enable_live_updates = true
worker_interval_secs = 3600

[object_storage]
bucket = "trainingground-dev-reports"
region = "ru-central1"
endpoint = "http://localhost:9000"
# Use environment variables for credentials (see .env.example)
access_key = "${OBJECT_STORAGE_ACCESS_KEY}"
secret_key = "${OBJECT_STORAGE_SECRET_KEY}"
reports_prefix = "reports/dev"

[sso]
enabled = false
