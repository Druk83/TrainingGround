# A12 — Централизованная документация и onboarding

## Контекст
Каждая задача A1-A11 создаёт отдельные компоненты системы, но необходима **централизованная документация**, которая объединяет все аспекты: архитектуру, API, развёртывание, troubleshooting, onboarding для новых разработчиков. Это критично для поддержки и масштабирования команды.

## Состав работ
1. **Главный README.md.**
   - Обзор проекта, ссылки на ключевые документы.
   - Quick start guide (запуск локально за 10 минут).
   - Ссылки на документацию каждого компонента (frontend, rust-api, python-generator).
   - Контакты команды и процесс контрибуции.
2. **Архитектурная документация.**
   - Обновить `docs/architecture/` с актуальными диаграммами (ArchiMate, C4, sequence).
   - Создать `docs/architecture/overview.md` с описанием всех слоёв (AL, BL, TL).
   - Диаграммы потоков данных (MongoDB ↔ Redis ↔ Qdrant, PWA ↔ Rust ↔ Python).
   - Документировать связи между компонентами и зависимости (см. `requirements/структураПО/зависимости.md`).
3. **API документация.**
   - Объединить OpenAPI спецификации всех эндпоинтов в `docs/api/openapi.yaml`.
   - Генерировать интерактивную документацию (Swagger UI/Redoc), хостить на `/api/docs`.
   - Документировать SSE/WebSocket протоколы (AsyncAPI спецификация).
   - Примеры запросов/ответов для каждого эндпоинта (curl/Postman коллекции).
4. **Руководство по развёртыванию.**
   - Обновить `docs/dev-setup.md` с инструкциями для локальной разработки (docker-compose, переменные окружения).
   - Создать `docs/deployment/production.md` с инструкциями для прод-окружения (systemd/Docker Compose, секреты, бэкапы).
   - Runbooks для типовых операций: обновление сервисов, восстановление из бэкапов, масштабирование.
5. **Troubleshooting и FAQ.**
   - Создать `docs/troubleshooting.md` с типовыми проблемами и решениями.
   - Секции: подключение к БД, проблемы с SSO, таймауты YandexGPT, конфликты офлайн-синхронизации.
   - Диагностические команды (проверка логов, метрик, состояния Redis/Mongo/Qdrant).
6. **Onboarding для разработчиков.**
   - Создать `docs/onboarding.md` с чек-листом для новых членов команды.
   - Шаги: настройка окружения, первый запуск, выполнение тестов, создание первого PR.
   - Описание процессов: code review, CI/CD, релизы, работа с задачами.
   - Ссылки на полезные ресурсы (Rust/TypeScript гайды, ArchiMate, OpenAPI).
7. **Changelog и версионирование.**
   - Вести `CHANGELOG.md` (формат Keep a Changelog) для всех релизов.
   - Semantic versioning для компонентов (frontend, rust-api, python-generator).
   - Автоматическая генерация changelog из git commits (conventional commits).
8. **Интеграция с документацией в коде.**
   - Rustdoc для Rust API (комментарии к модулям, функциям).
   - JSDoc/TSDoc для TypeScript компонентов.
   - Docstrings для Python модулей (Sphinx/pdoc).
   - CI проверка: документация должна генерироваться без ошибок.

## Ожидаемые артефакты
- Обновлённый README.md, полный набор документов в `docs/`.
- Интерактивная API документация (Swagger UI).
- Runbooks для DevOps операций.
- Onboarding guide для новых разработчиков.

## Чек-лист готовности
- [ ] README.md содержит quick start, который работает у нового разработчика за 10 минут.
- [ ] Все диаграммы актуальны и соответствуют реализации (ArchiMate, C4, sequence).
- [ ] OpenAPI спецификация покрывает 100% публичных эндпоинтов и доступна через `/api/docs`.
- [ ] Runbooks описывают все типовые операции (деплой, восстановление, масштабирование).
- [ ] Troubleshooting guide покрывает 90% типовых проблем (на основе инцидентов).
- [ ] Onboarding guide протестирован на новом члене команды и занимает ≤4 часов.
- [ ] CHANGELOG.md ведётся и автоматически обновляется при релизах.

## Тестирование
- **Validation:** автоматическая проверка ссылок в документации (markdown-link-check).
- **OpenAPI:** валидация спецификации (openapi-generator validate), проверка примеров.
- **Onboarding:** провести onboarding сессию с новым разработчиком и зафиксировать проблемы.
- **CI:** генерация rustdoc/jsdoc/sphinx без ошибок и warnings, публикация на docs сайте.
- **Accessibility:** проверка документации на читаемость (Flesch reading ease ≥60).
